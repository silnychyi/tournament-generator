(window["webpackJsonpecotrack-grid"]=window["webpackJsonpecotrack-grid"]||[]).push([[0],[,,,,,,,,,,,function(e,t,a){e.exports=a(21)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){e.exports=a.p+"static/media/preloader.9eb38563.gif"},function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(7),s=a.n(i),c=(a(16),a(1)),l=a(2),o=a(4),p=a(3),u=a(5),m=(a(17),a(8)),d=(a(18),function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.grid,a=e.people,r=e.cars_per_race,i=e.winners_per_race;return n.a.createElement("div",{className:"grid-overlay"},0!==t.length&&""!==a&&""!==r&&""!==i?n.a.createElement("div",{className:"grid-wrap"},t.map((function(e,a){return n.a.createElement("div",{key:a,className:"grid-stage"},n.a.createElement("div",{className:"grid-stage-title"},n.a.createElement("div",{className:"stage-title-num"},t.length-1===a?"Final":t.length-2===a?"Semi-Final":"Tour ".concat(a+1)),n.a.createElement("div",{className:"stage-title-subline"},"Participants: ".concat(e.flat(3).length)),n.a.createElement("div",{className:"stage-title-subline"},"Groups: ".concat(e.length))),e.length>8?n.a.createElement("div",{className:"grid-stage-list-wrap"},Array.from({length:Math.ceil(e.length/8)},(function(t,a){return e.slice(8*a,8*a+8)})).map((function(e,t){return n.a.createElement("div",{key:t,className:"grid-stage-list"},e.map((function(e,t){return n.a.createElement("div",{key:t,className:"grid-group"},e.map((function(e,t){return n.a.createElement("div",{key:t,className:"grid-driver-wrapper"},n.a.createElement("div",{className:"grid-driver-num"},t+1),n.a.createElement("input",{className:"grid-driver",type:"text"}))})))})))}))):n.a.createElement("div",{className:"grid-stage-list-wrap"},n.a.createElement("div",{className:"grid-stage-list"},e.map((function(e,t){return n.a.createElement("div",{key:t,className:"grid-group"},e.map((function(e,t){return n.a.createElement("div",{key:t,className:"grid-driver-wrapper"},n.a.createElement("div",{className:"grid-driver-num"},t+1),n.a.createElement("input",{className:"grid-driver",type:"text"}))})))})))))}))):null)}}]),t}(r.Component)),g=a(9),v=a.n(g),f=a(10),h=a.n(f);function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(a,!0).forEach((function(t){Object(m.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var N=function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(n)))).state={inputs:{people:0,cars_per_race:"",winners_per_race:""},grid:[],pdfPreparing:!1},a.savePDF=function(e){var t=document.querySelector(".grid-wrap");v()(t).then((function(t){var a,r,n=t.toDataURL("image/png"),i=new h.a({orientation:"portrait"}),s=i.getImageProperties(n);s.height/s.width<1.45?(r=i.internal.pageSize.getWidth(),a=s.height*r/s.width):(a=i.internal.pageSize.getHeight(),r=s.width*a/s.height),i.addImage(n,"PNG",0,0,r,a),i.save("grid-".concat(e,".pdf"))})).then((function(){a.setState({pdfPreparing:!1}),document.body.style.position="relative"}))},a.getModelsRent=function(e,t,r){var n=[];for(n.push(e);n[n.length-1]>t&&(n[n.length-1],n[n.length-1]!==Math.ceil(n[n.length-1]/t)*r);)n[n.length]=Math.ceil(n[n.length-1]/t)*r;console.log(n);var i=[];n.forEach((function(e){var r;e/t>2&&e/t<2.5&&(t-=1),r=e%t===0||e<t?0:t-e%t;for(var n=[],s=0;s<(e-r*(t-1))/t;s++){var c=[];if(e>=t){for(var l=0;l<t;l++){c.push({name:""})}n.push(c)}else{for(var o=0;o<e;o++){c.push({name:""})}n.push(c)}}if(e/t<=1.5&&e/t>1)if(e%2===0)for(var p=0;p<2;p++){for(var u=[],m=0;m<e/2;m++){u.push({name:""})}n.push(u)}else{for(var d=[],g=0;g<Math.floor(e/2);g++){d.push({name:""})}n.push(d),d=[];for(var v=0;v<Math.ceil(e/2);v++){d.push({name:""})}n.push(d)}else for(var f=0;f<r;f++){for(var h=[],E=0;E<t-1;E++){h.push({name:""})}n.push(h)}i.push(n),a.setState({grid:i})}))},a.gridInit=function(e,t,r){isNaN(e)||isNaN(t)||isNaN(r)||0===e||0===t||0===r||""===e||""===t||""===r||a.getModelsRent(parseInt(e),parseInt(t),parseInt(r))},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state.inputs,r=t.people,i=t.cars_per_race,s=t.winners_per_race,c=this.state,l=c.grid,o=c.pdfPreparing;return n.a.createElement("div",{className:"Grid"},o?n.a.createElement("div",{className:"pdf-preparing"},n.a.createElement("p",null,"Your file is being prepared"),n.a.createElement("img",{className:"preloader",src:a(20),alt:""})):null,n.a.createElement("div",{className:"inputs_list"},n.a.createElement("div",{className:"input_wrap"},n.a.createElement("div",{className:"input-label"},"participants"),n.a.createElement("input",{onChange:function(t){t.target.validity.valid&&(e.setState({inputs:b({},e.state.inputs,{people:t.target.value,cars_per_race:""})}),e.gridInit(t.target.value,i,s))},onBlur:function(t){""===t.target.value&&e.setState({inputs:b({},e.state.inputs,{people:0,cars_per_race:""})})},value:this.state.inputs.people,className:"input-settings",type:"tel",pattern:"^-?[0-9]\\d*\\.?\\d*$"})),n.a.createElement("div",{className:"input_wrap"},n.a.createElement("div",{className:"input-label"},"group max"),n.a.createElement("div",{className:"select-wrap"},n.a.createElement("select",{onChange:function(t){e.setState({inputs:b({},e.state.inputs,{cars_per_race:t.target.value})}),e.gridInit(r,t.target.value,s)},value:this.state.inputs.cars_per_race,className:"select-settings"},n.a.createElement("option",{disabled:!0,value:""},"0"),n.a.createElement("option",{disabled:parseInt(r)/4<=1.5||"string"!==typeof i,value:"4"},"4"),n.a.createElement("option",{disabled:parseInt(r)/5<=1.5||"string"!==typeof i,value:"5"},"5"),n.a.createElement("option",{disabled:parseInt(r)/6<=1.5||"string"!==typeof i,value:"6"},"6")))),r/i<2,n.a.createElement("div",{className:"input_wrap"},n.a.createElement("div",{className:"input-label"},"winners per group"),n.a.createElement("div",{className:"select-wrap"},n.a.createElement("select",{onChange:function(t){e.setState({inputs:b({},e.state.inputs,{winners_per_race:t.target.value})}),e.gridInit(r,i,t.target.value)},value:this.state.inputs.winners_per_race,className:"select-settings"},n.a.createElement("option",{disabled:!0,value:""},"0"),n.a.createElement("option",{value:"1"},"1"),n.a.createElement("option",{value:"2"},"2")))),0!==l.length&&""!==r&&""!==i&&""!==s?n.a.createElement("button",{className:"generate-pdf",onClick:function(){e.setState({pdfPreparing:!0}),document.body.style.position="fixed",setTimeout((function(){e.savePDF(r)}),1e3)}},"download",n.a.createElement("span",null,n.a.createElement("i",{className:"far fa-file-pdf"})),"PDF"):null),n.a.createElement(d,{ref:function(t){return e.componentRef=t},people:r,cars_per_race:i,winners_per_race:s,grid:l}))}}]),t}(r.Component),w=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement(N,null))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[11,1,2]]]);
//# sourceMappingURL=main.f9a3c5a9.chunk.js.map